\usepackage[a4paper]{geometry}

% Use nicer fonts
\usepackage[mono=false]{libertine}
\usepackage[libertine]{newtxmath}
\usepackage[varqu,varl,scale=0.9]{zi4}

\usepackage{hyperref}

% Math stuff
\usepackage{amsmath}
\usepackage{stmaryrd}
\usepackage{mathtools}
\usepackage{mathpartir}
\usepackage{pftools} % Rule referencing
\usepackage{listings}

\usepackage[nameinlink,noabbrev,capitalise]{cleveref}
\usepackage{enumitem} % Custom itemize labels

\usepackage[square]{natbib}
\bibliographystyle{ACM-Reference-Format}
\setcitestyle{acmauthoryear}

% Syntax highlighting (for Haskell)
\usepackage[outputdir=build]{minted}
\usemintedstyle{perldoc}
% \setminted{fontsize=\small}

% Language-aware micro typography
\usepackage[babel]{microtype}

\usepackage[most]{tcolorbox} % Colour boxes
\usepackage[color=orange!40]{todonotes} % To-do notes

\usepackage{tikz-cd}
\usetikzlibrary{%
    automata,
    arrows.meta,
    positioning,
    decorations.pathmorphing,
    shapes.geometric,
    er
}
\usepackage{array}

% ACM colour definitions
\definecolor[named]{ACMBlue}{cmyk}{1,0.1,0,0.1}
\definecolor[named]{ACMYellow}{cmyk}{0,0.16,1,0}
\definecolor[named]{ACMOrange}{cmyk}{0,0.42,1,0.01}
\definecolor[named]{ACMRed}{cmyk}{0,0.90,0.86,0}
\definecolor[named]{ACMLightBlue}{cmyk}{0.49,0.01,0,0}
\definecolor[named]{ACMGreen}{cmyk}{0.20,0,1,0.19}
\definecolor[named]{ACMPurple}{cmyk}{0.55,1,0,0.15}
\definecolor[named]{ACMDarkBlue}{cmyk}{1,0.58,0,0.21}

% Other colour definitions
\usepackage{xcolor}

\definecolor{darkblue}{rgb}{0.2, 0.2, 0.6}
\definecolor{lightblue}{rgb}{0.3, 0.6, 0.7}
\definecolor{otherblue}{rgb}{0.0, 0.3, 0.4}
\definecolor{darkorange}{rgb}{0.5, 0.2, 0.0}
\definecolor{purple}{rgb}{0.5, 0.0, 0.5}
\definecolor{codeBlue}{rgb}{0.2,0.2,0.7}
\definecolor{codebg}{rgb}{0.9,0.9,0.9}

% Set up the hyperref package
\hypersetup{
  pdftitle = {SPL Compiler}, %   - title (PDF meta)
% pdfsubject={thesis subject},%   - subject (PDF meta)
  pdfauthor = {David LÃ¤wen}, %   - author (PDF meta)
  pdflang={en},
  unicode=true,
  colorlinks=true,           %   - colorize links?
  linktoc=all,               %   - sections and subsections linked
  breaklinks=false,          %   - allow line break inside links
% plainpages=false,
% pdfborder={0 0 0},
% bookmarksnumbered=true,
% bookmarksopen=true
% Hyperlink colours
  linkcolor = ACMPurple,
  citecolor = ACMPurple,
  urlcolor = ACMDarkBlue,
  filecolor = ACMDarkBlue
}

% Syntax highlighting for SPL
\lstdefinelanguage{SPL}{%
	alsoletter={0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_+-*/\%=<>!\&|:},
  keywords=[1]{while,if,else,return,var,data,Int,Bool,Char,Void,True,False},
  keywords=[2]{print,isEmpty,fst,snd,hd,tl},
  keywords=[3]{::,=,->}, %,<,>,+,*,/,-,\%,!,\&,|,==},
	sensitive=true,%
	morecomment=[l]{//},%
	morecomment=[n]{/*}{*/},%
	literate=%
		{->}{{${\color{teal}\rightarrow}$}}2
		{>=}{{$\geq\:$}}1
		{<=}{{$\leq\:$}}1
		%{==}{{$\equiv$}}1
}
\lstset{%
  mathescape,
	upquote=true,
	breakatwhitespace=false,
	breaklines=true,
	postbreak=\mbox{\textcolor{gray}{$\hookrightarrow$}\space},
	keepspaces=true,
	basicstyle=\ttfamily,
	commentstyle=\color{OliveGreen}\ttfamily,
  keywordstyle=[1]\color{Fuchsia}\bfseries,
	keywordstyle=[2]\color{MidnightBlue},
  keywordstyle=[3]\color{teal},
	stringstyle=\ttfamily,
	showspaces=false,
	showstringspaces=false,
	showtabs=false,
	tabsize=4,
	basewidth=0.5em,
	columns=[c]fixed,
	texcl=true,
	captionpos=b
}
