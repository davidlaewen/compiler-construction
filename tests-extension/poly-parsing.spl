// Parsing of polymorphic ADTs

data Maybe<b> {
  None(), Some(some : b)
}

data Colour<c> {
  Red(), Green(), Blue()
}

var x = None();
var mTrue = Some(True);

test(x) :: a -> a {
  var y = x;
  var z = y + 1;
  return 1;
}

fromMaybe(d,m) :: a Maybe<a> -> a {
  if (isNone(m)) {
    return d;
  } else {
    return m.some;
  }
}

const_x() {
  return x;
}

main() {
  var y = const_x();
  printLn(fromMaybe(0,None()));
  printLn(fromMaybe(0,Some(42)));

  printLn(x == y);

  return;
}
